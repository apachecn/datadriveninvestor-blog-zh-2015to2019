# é¢„æµ‹æ©„æ¦„çƒæ¯”èµ›çš„æ¯”åˆ†

> åŸæ–‡ï¼š<https://medium.datadriveninvestor.com/predicting-the-score-of-a-rugby-match-c8968a3b62fa?source=collection_archive---------8----------------------->

[![](img/6c753d4812cd15d7b7ad4f9b2bb1fbc1.png)](http://www.track.datadriveninvestor.com/1B9E)

> Metis Bootcamp çš„ç¬¬ 2 å‘¨å’Œç¬¬ 3 å‘¨å¸¦æ¥äº†å¾ˆå¤§çš„å­¦ä¹ æ›²çº¿ã€ç‹¬ç«‹ç ”ç©¶å’Œä½¿ç”¨çº¿æ€§å›å½’é¢„æµ‹ç‰¹å®šç»“æœçš„æŒ‘æˆ˜ã€‚

## æˆ‘å¬åˆ°ä½ é—®ä»€ä¹ˆæ˜¯æ©„æ¦„çƒ...

F æˆ–è€…å¯¹æ©„æ¦„çƒä¸ç†Ÿæ‚‰çš„äººï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€çŸ­çš„&ç”œèœœçš„è§£é‡Šã€‚è¿™æ˜¯ä¸€åœº 80 åˆ†é’Ÿçš„æ¯”èµ›ï¼Œä¸¤é˜Ÿå„æœ‰ 15 åé˜Ÿå‘˜ï¼Œé€šå¸¸ä¼šæœ‰å¾ˆå¤šæ³¥å·´(æœ‰æ—¶è¿˜ä¼šæµè¡€ï¼).æ¸¸æˆçš„ç›®çš„æ˜¯è®©çƒè¶Šè¿‡çƒåœºå¯¹é¢çš„çƒé—¨çº¿ã€‚è¿™å°†ä¸ºâ€œå°è¯•â€èµ¢å¾—ä¸€åˆ†ï¼Œå¹¶ä¸ºå›¢é˜Ÿèµ¢å¾— 5 åˆ†ã€‚ç„¶åï¼Œçƒé˜Ÿè·å¾—è½¬æ¢çš„æœºä¼šï¼Œå¦‚æœä»–ä»¬æŠŠçƒè¸¢è¿‡çƒé—¨æŸ±ï¼Œå°±ä¼šé¢å¤–è·å¾— 2 åˆ†ã€‚å¦‚æœè¯¥é˜Ÿé€šè¿‡çƒé—¨æŸ±è·å¾—ç‚¹çƒæˆ–å¤±çƒï¼Œåˆ™å¾— 3 åˆ†ã€‚æ‰€ä»¥ï¼Œä½ åªéœ€è¦çŸ¥é“**æ€»å¾—åˆ†=å°è¯•æ¬¡æ•°+è½¬æ¢æ¬¡æ•°+æƒ©ç½šæ¬¡æ•°**â€¦â€¦ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³çŸ¥é“å®Œæ•´çš„è§„åˆ™ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚

![](img/5878f0d979b2c03d206d164e52f5de8c.png)

Imagine American Football without the shoulder pads and constant stopping and starting.

## å½±å“åˆ†æ•°å’Œå®šä½æ•°æ®çš„å› ç´ 

éšç€å…­å›½èµ›çš„ä¸´è¿‘ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æœºä¼šæ¥é¢„æµ‹è‹±æ ¼å…°ä¼šåœ¨æ¯”èµ›ä¸­å¾—å¤šå°‘åˆ†ã€‚ä¸ºäº†å»ºç«‹ä¸€ä¸ªæ¨¡å‹æ¥é¢„æµ‹è‹±æ ¼å…°é˜Ÿçš„å¾—åˆ†ï¼Œæˆ‘éœ€è¦æ”¶é›†å’Œç»„ç»‡ä»¥å‰æ¯”èµ›çš„æ•°æ®ï¼Œè¯•å›¾æ‰¾å‡ºå“ªäº›å› ç´ (â€¦å¦‚æœæœ‰çš„è¯)å®é™…ä¸Šå½±å“äº†æ¯”èµ›çš„ç»“æœã€‚ç»è¿‡ä¸€äº›æ€è€ƒå’Œç ”ç©¶ï¼Œè¿™æœ€ç»ˆå½’ç»“ä¸ºä¸‰ä¸ªç±»åˆ«:

*   å‚èµ›é˜Ÿä¼
*   æ¯”èµ›çš„æ—¶é—´å’Œåœ°ç‚¹
*   å…ˆå‰çš„è‹±æ ¼å…°æ¯”èµ›ç»Ÿè®¡

![](img/de782009c6cf9f738b23f2b21437df6e.png)

Full list of factors potentially affecting the final score.

â€¦è¿™æ˜¯æœ€ç®€å•çš„éƒ¨åˆ†ã€‚

æ¥ä¸‹æ¥ï¼Œæ˜¯æˆ‘ä»æœªä½“éªŒè¿‡çš„ä¸œè¥¿â€¦â€¦ç½‘ç»œæŠ“å–ã€‚è¿™æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå°¤å…¶æ˜¯å½“ä½ ä¸€å¤©å‰åˆšåˆšæ¥è§¦äº† BeautifulSoupã€Selenium å’Œ HTMLã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘æ„Ÿåˆ°æœ‰ç‚¹ä¸çŸ¥æ‰€æªï¼Œæ‰€æœ‰åœ¨ç†è®ºä¸Šæœ‰æ„ä¹‰çš„äº‹æƒ…åœ¨å®è·µä¸­å˜æˆäº†ä¸€å›¢ä¹±éº»â€¦â€¦(å°æ‰¿è®¤:æˆ‘å“­äº†ğŸ™ˆ).ä½†æ˜¯ï¼Œå‡­å€Ÿä¸€äº›æ¯…åŠ›ã€åŒå­¦å’Œå¯¼å¸ˆçš„æ”¯æŒä»¥åŠä¸€æ¯å¥½èŒ¶ï¼Œæˆ‘ç»§ç»­å®Œæˆäº†è¿™ä¸ªé¡¹ç›®ã€‚

æˆ‘è®¾æ³•è·å¾—äº†è‡ª 2000 å¹´ 1 æœˆä»¥æ¥çš„ 218 åœºå›½é™…æ¯”èµ›ä¸­ç¬¦åˆä¸Šè¿°æ¯ä¸€é¡¹çš„æ•°æ®â€¦è¿™æ„Ÿè§‰çœŸå¥½ï¼

![](img/e961965f9cd42d71964650a49125a052.png)

Function used to obtain data from tables on multiple pages

![](img/5e7f397c8b1e75a4a6a8eb2b9d12d9a8.png)

Using BeautifulSoup to prettify html script and return a manageable Pandas DataFrame

> è¿™ä¸æ˜¯æœ€æ¼‚äº®çš„ä»£ç â€”â€”ä½†æˆ‘æ— æ³•è¡¨è¾¾æˆ‘å¯¹å®ƒçš„å·¥ä½œæœ‰å¤šæ¬£æ…°ã€‚

## èƒ½åšåˆ°å—ï¼Ÿè®­ç»ƒæ¨¡å‹ä»¥é¢„æµ‹åˆ†æ•°

ä¸€æ—¦æ•°æ®è¢«æ¸…ç†ï¼Œå‡è®¾è¢«æ¦‚è¿°ï¼Œæ½œåœ¨å½±å“å¾—åˆ†çš„ç‰¹å¾è¢«åˆ†æï¼Œå»ºæ¨¡è¿‡ç¨‹å¯ä»¥å¼€å§‹ã€‚

![](img/7fa97cc575640b6f1319527a339fcac4.png)

Project Workflow .. Obtaining Data â†’ Modelling â†’ Re-modelling â†’ Re-Re-modelling ..etc.. â†’ Finally Testing!

ä¸ºäº†æµ‹è¯•æœ€ç»ˆæ¨¡å‹çš„æ€§èƒ½ï¼Œæœ€å¥½(ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†å´æ˜¯ç†æƒ³çš„)ç•™å‡ºä¸€äº›æ•°æ®ã€‚è¿™æ˜¯åœ¨å»ºæ¨¡è¿‡ç¨‹ä¹‹å‰åˆ†ç¦»å‡ºæ¥çš„ï¼Œä»¥å‡å°‘å¯èƒ½å½±å“æœ€ç»ˆæ¨¡å‹æ€§èƒ½çš„æ•°æ®æ³„æ¼é£é™©ã€‚

æˆ‘å¼€å§‹å¯¹æˆ‘çš„è®­ç»ƒæ•°æ®è¿›è¡Œçº¿æ€§å›å½’ã€‚æˆ‘å§‹ç»ˆä½¿ç”¨äº¤å‰éªŒè¯ï¼Œè¿™è¿›ä¸€æ­¥å°†æˆ‘çš„è®­ç»ƒæ•°æ®åˆ†æˆ 5 ä¸ªéƒ¨åˆ†ã€‚è¯¥æ¨¡å‹åœ¨ 5 ä¸ªéƒ¨åˆ†ä¸­çš„ 4 ä¸ªéƒ¨åˆ†è¿›è¡Œäº†è®­ç»ƒï¼Œç„¶ååœ¨ç¬¬ 5 ä¸ªéƒ¨åˆ†è¿›è¡Œäº†éªŒè¯ï¼Œä»¥è¯„ä¼°æˆ‘çš„æ¨¡å‹æ˜¯å¦èƒ½å¾ˆå¥½åœ°æ¦‚æ‹¬æ–°æ•°æ®ã€‚ä½¿ç”¨æ¯ä¸ªç‰‡æ®µä½œä¸ºéªŒè¯ç‰‡æ®µé‡å¤è¯¥è¿‡ç¨‹ï¼Œç„¶åè®°å½•æ¯ä¸ªè®­ç»ƒå’ŒéªŒè¯é›†çš„å¹³å‡ r åˆ†æ•°ã€‚

ç»“æœï¼Œæˆ‘çš„æ¨¡å‹çœŸçš„è¿‡æ‹Ÿåˆï¼Œä¸å¤ªå¥½ã€‚æˆ‘çš„è®­ç»ƒæ•°æ®çš„ r å€¼ä¸º 0.6ï¼Œr å€¼ä¸º 0.14ï¼Œè¿™è¡¨æ˜å°½ç®¡ç‰¹å¾å’Œé¢„æµ‹å€¼[å¾—åˆ†]ä¹‹é—´å­˜åœ¨æŸç§çº¿æ€§å…³ç³»ï¼Œä½†æˆ‘çš„æ¨¡å‹å¯èƒ½æ— æ³•ä½¿ç”¨æ–°æ•°æ®æ­£ç¡®åæ˜ è¿™ä¸€ç‚¹ã€‚å¯¹äºä¸€ä¸ªå¥½çš„æ¨¡å‹ï¼Œç†æƒ³æƒ…å†µä¸‹ä¸¤ä¸ª r å€¼åº”è¯¥æ˜¯ç›¸ä¼¼çš„ï¼Œæ›´æ¥è¿‘äº 1 è€Œä¸æ˜¯ 0ã€‚

æˆ‘å¯¹æ­¤çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹æ•°æ®è¿›è¡Œå¥—ç´¢å›å½’ï¼Œå¹¶å¾ˆå¿«æˆä¸ºæˆ‘åœ¨æ•´ä¸ªé¡¹ç›®ä¸­æœ€å¥½çš„æœ‹å‹ã€‚è¿™æ˜¯ä¸€ç§è§„èŒƒåŒ–çš„æŠ€æœ¯ï¼Œé€šè¿‡æƒ©ç½šç‰¹å¾æ¥è¯†åˆ«æœ€æœ‰å½±å“åŠ›çš„ç‰¹å¾ã€‚LASSO å›å½’ä½¿ç”¨å‚æ•°â€œalphaâ€æ¥æƒ©ç½šæ¯ä¸ªç‰¹å¾ã€‚æˆ‘é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°æ¥æµ‹è¯•å¤šä¸ª alpha å‚æ•°ï¼Œä»¥ç¡®å®šå“ªä¸ªå‚æ•°æœ€å¤§ç¨‹åº¦åœ°å‡å°‘äº†æ¨¡å‹ä¸­è¿‡åº¦æ‹Ÿåˆçš„å½±å“ã€‚è¿™ä¸ªå‡½æ•°è¿˜è¿”å›äº†å“ªäº›ç‰¹æ€§æœ€æœ‰å½±å“åŠ›ï¼Œå®ƒä»¬æ˜¯ç§¯æçš„è¿˜æ˜¯æ¶ˆæçš„ï¼Œä»¥åŠå½±å“çš„ç¨‹åº¦ã€‚

![](img/86dbf3046eb3a93229be93895a821e07.png)

LASSO function: Returns best alpha, Training data rÂ² value, Validation rÂ² value and coefficients for each feature.

è¿™ä¸ªè¿‡ç¨‹å˜æˆäº†ä¸€ä¸ªå¾ªç¯ï¼Œå³å»é™¤æ— å½±å“çš„ç‰¹å¾ï¼Œé‡æ–°è¯„ä¼°å‰©ä½™çš„ç‰¹å¾ï¼Œå¹¶é‡æ–°è¿è¡Œä¸¤ä¸ªæ¨¡å‹ï¼Œä»¥å‡å°‘è®­ç»ƒå’ŒéªŒè¯ r åˆ†æ•°ä¹‹é—´çš„è¯¯å·®ã€‚è¿™ç§æƒ…å†µå‘ç”Ÿäº†å¤šæ¬¡ï¼Œç›´åˆ°æˆ‘ç¡®ä¿¡å®ƒæ›´æœ‰å¯èƒ½åœ¨æ–°æ•°æ®ä¸Šæ¨å¹¿å¼€æ¥ã€‚ç°åœ¨ï¼Œæ²¡æœ‰ä¸€ä¸ªæ¨¡å‹æ˜¯å®Œç¾çš„ï¼Œæœ‰æ—¶ä½ ä¸å¾—ä¸æ»¡è¶³äºä¸å®Œç¾ã€‚è‚¯å®šå¾ˆéš¾åœä¸‹æ¥æ»¡è¶³äºâ€œokâ€â€¦ä½†æ˜¯ä¸´è¿‘çš„æˆªæ­¢æ—¥æœŸä¼šæœ‰æ‰€å¸®åŠ©ï¼

## ç»“æœ

æˆ‘çš„æœ€ç»ˆæ¨¡å‹å°†å½±å“åˆ†æ•°çš„æœ€é‡è¦ç‰¹å¾ç¡®å®šä¸º:

*   å¯¹æ‰‹ä¸–ç•Œæ’å
*   ä¸»åœºæ¯”èµ›
*   è”»é©°èƒœç‡
*   å¹´
*   æœˆ

é™¤äº†â€œå¹´ä»½â€ä¹‹å¤–ï¼Œæ¯ä¸ªç‰¹å¾éƒ½å¯¹åˆ†æ•°æœ‰ç§¯æçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯¹æ‰‹çš„ä¸–ç•Œæ’åè¾ƒé«˜(åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ç»å¯¹æ’åä¸­è¾ƒä½)ï¼Œè‹±æ ¼å…°çš„å¾—åˆ†æ›´å¯èƒ½è¾ƒé«˜ã€‚ç„¶è€Œï¼Œå¦‚æœå¹´ä»½æ›´é«˜ï¼Œè¿™å¯èƒ½ä¼šé™ä½æœ€ç»ˆå¾—åˆ†ã€‚æˆ‘è®¤ä¸ºè¿™å¯¹æ•´ä¸ªè‹±æ ¼å…°é˜Ÿæ¥è¯´å¹¶ä¸å¥½..æˆ‘ä»¬å˜å¾—æ›´ç³Ÿäº†å—ï¼Ÿï¼ï¼Ÿéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä¼šè°ƒæŸ¥ä¸ªäººçš„æ¯”èµ›åˆ†æ•°ï¼Œä»¥å¾—å‡ºæ˜¯å¦æ˜¯è¿™æ ·çš„ç»“è®ºï¼

ä¸€æ—¦æˆ‘å¯¹æœ€ç»ˆçš„æ¨¡å‹æ„Ÿåˆ°æ»¡æ„ï¼Œæˆ‘å°±è¿è¡Œæˆ‘åœ¨å»ºæ¨¡ä¹‹å‰åˆ†ç¦»çš„æ•°æ®ï¼Œå¹¶ç»˜åˆ¶æ¯åœºæ¯”èµ›çš„é¢„æµ‹åˆ†æ•°ä¸å®é™…åˆ†æ•°ã€‚

ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç‚¹éƒ½å¯ä»¥æ²¿ç€ä¸‹å›¾ä¸­çš„çº¢çº¿å®Œç¾åœ°é¢„æµ‹å‡ºæ¥â€¦ç„¶è€Œï¼Œæ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæ²¡æœ‰ä¸€ä¸ªæ¨¡å‹æ˜¯å®Œç¾çš„ã€‚

![](img/d3f1e98f16421119bd2411bf086e1a17.png)![](img/0ad7a878a4fc291e861a1f65d2d5fd7a.png)

æ¨¡å‹çš„å¹³å‡è¯¯å·®ç»“æœæ˜¯ 11.77 (12)åˆ†â€¦å¥½ï¼Ÿâ€¦ä¸å¥½ï¼Ÿâ€¦ç»å¯¹ä¸å®Œç¾ã€‚ç”±äºå¤§å¤šæ•°æ—¶å€™è‹±æ ¼å…°æ¯åœºæ¯”èµ›å¾—åˆ†ä¸åˆ° 40 åˆ†ï¼Œ12 åˆ†çš„è¯¯å·®å¹¶ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ã€‚æ­£å¦‚è¿™é‡Œæ‰€å±•ç¤ºçš„ï¼Œè¯¥æ¨¡å‹åœ¨æ‰€æœ‰ç»“æœèŒƒå›´å†…éƒ½ç»™å‡ºäº†åˆç†çš„ä½ä¼°å’Œé«˜ä¼°åˆ†æ•°ã€‚ä¸ºäº†å‡å°‘è¿™ç§æ€»å¹³å‡è¯¯å·®ï¼Œéœ€è¦è¿›è¡Œä¸€äº›æ›´ç²¾ç»†çš„è°ƒæ•´ã€‚

æˆ‘ç›¸ä¿¡æ¨¡å‹åœ¨é¢„æµ‹å¾—åˆ†è¾ƒä½çš„æ¸¸æˆæ—¶è¡¨ç°æ›´å¥½ã€‚å¦‚ä¸Šé¢çš„å›¾è¡¨æ‰€ç¤ºï¼Œé¢„æµ‹å¾—åˆ†å’Œå®é™…å¾—åˆ†ä¹‹é—´çš„è¯¯å·®åœ¨ 10-20 åˆ†èŒƒå›´å†…é€šå¸¸ä½äº 20 åˆ†ä»¥ä¸Šã€‚å› æ­¤ï¼Œåœ¨å¾—åˆ†è¾ƒä½çš„æ¯”èµ›ä¸­ï¼Œæ•´ä¸ªå¾—åˆ†èŒƒå›´å†…çš„å¹³å‡ 12 åˆ†è¯¯å·®å¯ä»¥å‡å°‘ã€‚è‡ª 2000 å¹´ 1 æœˆä»¥æ¥ï¼Œè‹±æ ¼å…°é˜Ÿåœ¨ 62.4%çš„å›½é™…æ¯”èµ›ä¸­å¾—åˆ†ä½äºåˆ†ï¼Œå› æ­¤ï¼Œå¦‚æœè¯¥æ¨¡å‹ä»…åœ¨è¿™äº›æ¯”èµ›ä¸­è¿è¡Œï¼Œæˆ‘ä»¬å¯èƒ½ä¼šçœ‹åˆ°æ¨¡å‹ä¸­çš„è¯¯å·®å‡å°‘â€¦è¿™éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶ã€‚

å¦‚ä¸Šé¢çš„ç›´æ–¹å›¾æ‰€ç¤ºï¼Œä¸¤åœºæ¯”èµ›æ˜¾ç¤ºè‹±æ ¼å…°é˜Ÿå¾—åˆ†è¶…è¿‡ 110 åˆ†ï¼ç”±äºè¿™äº›ç‚¹åœ¨å»ºæ¨¡è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«åˆ é™¤ï¼Œè¿™å¯èƒ½ä¼šæ‰­æ›²æ¨¡å‹å¯¹å¾—åˆ†è¾ƒé«˜æ¸¸æˆçš„é¢„æµ‹ã€‚åŒæ ·ï¼Œè¿™ä¹Ÿæ˜¯åœ¨æœªæ¥çš„é¡¹ç›®æˆ–å¯¹è¿™ä¸ªæ¨¡å‹çš„æ”¹è¿›ä¸­éœ€è¦è€ƒè™‘çš„äº‹æƒ…ã€‚

## è®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹â€¦

æ‰€ä»¥ï¼Œæ­£å¦‚æåˆ°çš„å…­å›½æ­£åœ¨æ¥è¿‘ï¼Œæ‰€ä»¥éšç€æ¨¡å‹çš„è°ƒæ•´ï¼Œæ˜¯æ—¶å€™åšä¸€ä¸ªé¢„æµ‹äº†ã€‚è‹±æ ¼å…°çš„ç¬¬ä¸€åœºæ¯”èµ›æ˜¯åœ¨ 2 æœˆ 2 æ—¥æ˜ŸæœŸå…­å¯¹é˜µçˆ±å°”å…°ã€‚æœ‰äº†ç›¸å…³çš„ç»†èŠ‚ï¼Œæ¨¡å‹é¢„æµ‹â€¦è¯·å‡»é¼“â€¦è‹±æ ¼å…°å°†å¾—åˆ° **15 åˆ†ã€‚**æˆ‘å°†ä¸å¾—ä¸å›å¤æ‚¨è¿™æ˜¯å¦æ­£ç¡®ï¼*(å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥éšæ„æ‰“ä¸€äº›é‡‘èæ–¹é¢çš„èµŒï¼Œä½†æ˜¯æˆ‘ä¸ä¼šå¯¹ä»»ä½•æŸå¤±è´Ÿè´£..æ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªä¸ºæœŸä¸¤å‘¨çš„é¡¹ç›®ï¼)*

> è¯¥é¡¹ç›®çš„å®Œæ•´ Jupyter ç¬”è®°æœ¬ä»£ç å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/laurenlhoward14/linear-regression-rugby)æ‰¾åˆ°ã€‚